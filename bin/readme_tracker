#!/usr/bin/env ruby

$: << File.expand_path('../../lib', __FILE__)
require 'bundler'
Bundler.require
require 'readme_tracker'
require 'slop'

opts = Slop.new(strict: true) do
  banner 'Usage: readme_tracker [options]'
  on 'dry-run', 'Dry run'
  on 'c=', 'config', 'config path (default `./readme_tracker.yml`)'
  on 's=', 'save', 'path for saving tracked hash (default `./.tracked_hash`)'
end

begin
  opts.parse
  ReadmeTracker::Cli.run(opts.to_hash)
rescue Slop::Error => e
  puts e.message
  puts opts # print help
end
